
. $(command -p find .. -maxdepth 3 -type f -name strictmode -print -quit)

## read params as a single var or an array
# call as VAR=$(:arg "$@")
:arg() {
    ARGS="${*:-$(</dev/stdin)}"
    echo "${ARGS}"
}

# call as ARR=( $(:args "$@") )
:args() {
    ARGS=( "${@:-$(</dev/stdin)}" )
    echo "${ARGS[*]}"
}

## file manipulation
:copy() {
    command -p cp $(:arg "$@")
}

:move() {
    command -p mv $(:arg "$@")
}

:remove() {
    command -p rm $(:arg "$@")
}

## find
:find_here() {
    command -p find $(pwd) -maxdepth 1 $(:arg "$@")
}

:files_here() {
    :find_here $(:arg "$@") -type f -print
}

:dirs_here() {
    :find_here $(:arg "$@") -type d -print
}

## curl
:curl() {
    curl -fsSL $(:arg "$@")
}

:curlo() {
    :curl -O $(:arg "$@")
}

## tar
:untar() {
    tar xf $(:arg "$@")
}

:mktar() {
    local flags=( $(:args "$@") )
    local dir="${flags[0]}"
    tar czf "${dir%*/}.tar.gz" "${flags[*]}"
}

:tar_dir() {
    echo $(tar tf $(:arg "$@") | head -n1)
}

:enter_tar_dir() {
    cd $(:tar_dir $(:arg "$@"))
}

:open_tar() {
    local tar=$(:arg "$@")
    :untar "${tar}"
    :enter_tar_dir "${tar}"
}
